<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Shoe</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">Sneaker Store</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="/shoes">Shoe Inventory</a></li>
          <li class="nav-item"><a class="nav-link" href="/dashboard">Dashboard</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card shadow">
          <div class="card-body">
            <h4 class="card-title text-center mb-4">Edit Shoe</h4>

            <!-- Edit Form -->
            <form method="POST" action="/editshoe/<%= shoe.productID %>" enctype="multipart/form-data">

              <!-- Product Name -->
              <div class="mb-3">
                <label class="form-label">Product Name</label>
                <input type="text" class="form-control" name="productName" value="<%= shoe.productName %>" required>
              </div>

              <!-- Brand -->
              <div class="mb-3">
                <label class="form-label">Brand</label>
                <input type="text" class="form-control" name="brand" value="<%= shoe.brand %>" required>
              </div>

              <!-- Size -->
              <div class="mb-3">
                <label class="form-label">Size</label>
                <input type="number" class="form-control" name="size" value="<%= shoe.size %>" required>
              </div>

              <!-- Price -->
              <div class="mb-3">
                <label class="form-label">Price</label>
                <input type="number" step="0.01" class="form-control" name="price" value="<%= shoe.price %>" required>
              </div>

              <!-- Quantity -->
              <div class="mb-3">
                <label class="form-label">Quantity</label>
                <input type="number" class="form-control" name="quantity" value="<%= shoe.quantity %>" required>
              </div>

              <!-- Upload New Image -->
              <div class="mb-3">
                <label class="form-label">Upload New Image</label>
                <input type="file" class="form-control" name="image">
                <small class="text-muted">Leave blank to keep existing image.</small>

                <!-- Hidden Field for Existing Image -->
                <input type="hidden" name="existingImage" value="<%= shoe.image %>">
              </div>

              <!-- Preview Current Image -->
              <% if (shoe.image) { %>
                <div class="mb-3">
                  <label class="form-label">Current Image</label><br>
                  <img src="/images/<%= shoe.image %>" alt="Current Image" width="150">
                </div>
              <% } %>

              <!-- Submit -->
              <div class="d-grid">
                <button type="submit" class="btn btn-primary">Update Shoe</button>
              </div>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
